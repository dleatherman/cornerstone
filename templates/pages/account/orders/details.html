---
blog:
    recent_posts:
        limit: {{theme_settings.homepage_blog_posts_count}}
---
{{#partial "page"}}
{{inject 'selectItem' (lang 'forms.validate.account.reorder.select_item')}}

<div class="container">
    {{> components/account/navigation account_page='orders'}}
    <main class="account account--fixed">
        <h2 class="page-heading title">
            <a class="go-back-link" href="/account.php?action=order_status">
                <img src="{{cdn 'icons/back-arrow.svg'}}" />
            </a>
        </h2>
        <div class="account-body account-orders-body">
            {{#each order.status_messages}}
                {{> components/common/alert-info message}}
            {{/each}}

            <div class="account-order-heading">
                <h5 class="account-product-order-title">
                    {{lang 'account.orders.details.heading' number=order.id}}
                </h5>
            
                <p class="account-product-description">{{lang 'account.orders.list.product_details' cost=order.total.formatted}}</p>
            </div>

            <div class="account-content orders-container">
                {{> components/account/order-contents order=order}}

                <ul class="account-list">
                    <li class="account-listItem">
                        {{#each order.total_rows}}
                        {{#if value.value}}
                        <p class="account-orderTotal-key">{{label}}:</p>
                        <p class="account-orderTotal-value">{{value.formatted}}</p>
                        {{/if}}
                        {{/each}}
                    </li>
                </ul>

            </div>
            <aside class="account-sidebar">
                <section class="account-sidebar-block">
                    <h3 class="account-heading">{{lang 'account.orders.details.order_details'}}</h3>
                    <dl class="definitionList">
                        <dt class="definitionList-key">{{lang 'account.orders.details.order_status'}}</dt>
                        <dd class="definitionList-value">{{order.status_text}}</dd>
                        <dt class="definitionList-key">{{lang 'account.orders.details.payment_date'}}</dt>
                        <dd class="definitionList-value">{{order.date}}</dd>
                        <dt class="definitionList-key">{{lang 'account.orders.details.order_total'}}</dt>
                        <dd class="definitionList-value">{{order.total.formatted}}</dd>
                        {{#if order.payment_method}}
                        <dt class="definitionList-key">{{lang 'account.orders.details.payment_method'}}</dt>
                        <dd class="definitionList-value">
                            {{order.payment_method}}
                            {{#if order.card_number_last_four}}
                            {{lang 'account.orders.details.card_ending' card=order.card_number_last_four}}
                            {{/if}}
                        </dd>
                        {{/if}}
                        {{#if order.order_instructions}}
                        <dt class="order-payments-description">{{lang 'account.orders.details.how_to_pay'}}</dt>
                        <dd class="order-payments-value order-payments-value--long">{{nl2br order.order_instructions}}</dd>
                        {{/if}}
                    </dl>

                    <button data-print-invoice="{{order.invoice_url}}"
                        class="button">{{lang 'account.orders.details.print_invoice'}}</button>
                </section>

                {{#if order.shipping_address}}
                <section class="account-sidebar-block">
                    <h3 class="account-heading">{{lang 'account.orders.details.ship_to'}}</h3>
                    <ul class="account-order-address">
                        <li>{{order.shipping_address.full_name}}</li>
                        <li>{{order.shipping_address.company}}</li>
                        <li>{{order.shipping_address.address_lines.[0]}}</li>
                        <li>{{order.shipping_address.address_lines.[1]}}</li>
                        <li>{{order.shipping_address.city}}, {{order.shipping_address.state}} {{order.shipping_address.zip}}
                        </li>
                        <li>{{order.shipping_address.country}}</li>
                    </ul>
                </section>
                {{else}}
                {{#if order.has_multiple_shipping_addresses}}
                <section class="account-sidebar-block">
                    <h3 class="account-heading">{{lang 'account.orders.details.ship_to'}}</h3>
                    <div class="account-order-address">
                        {{lang 'account.orders.details.ship_to_multi_text'}}
                    </div>
                </section>
                {{/if}}
                {{/if}}

                <section class="account-sidebar-block">
                    <h3 class="account-heading">{{lang 'account.orders.details.bill_to'}}</h3>
                    <ul class="account-order-address">
                        <li>{{order.billing_address.full_name}}</li>
                        <li>{{order.billing_address.company}}</li>
                        <li>{{order.billing_address.address_lines.[0]}}</li>
                        <li>{{order.billing_address.address_lines.[1]}}</li>
                        <li>{{order.billing_address.city}}, {{order.billing_address.state}} {{order.billing_address.zip}}
                        </li>
                        <li>{{order.billing_address.country}}</li>
                    </ul>
                </section>

                {{#if shipments}}
                <section class="account-sidebar-block">
                    <h3 class="account-heading">{{lang 'account.orders.details.shipments.header'}}</h3>
                    {{#each shipments}}
                    <dl class="definitionList">
                        <dt class="definitionList-key">{{lang 'account.orders.details.shipments.date'}}:</dt>
                        <dd class="definitionList-value">{{date_shipped}}</dd>
                        <dt class="definitionList-key">{{lang 'account.orders.details.shipments.method'}}:</dt>
                        <dd class="definitionList-value">{{shipping_provider}}</dd>
                        <dt class="definitionList-key">{{lang 'account.orders.details.shipments.link'}}:</dt>
                        <dd class="definitionList-value">
                            {{#if shipping_track.url}}
                            <a href="{{shipping_track.url}}">
                                {{/if}}

                                {{#if show_shipping_method}}
                                {{shipping_track.number}} &mdash; {{shipping_method}}
                                {{else}}
                                {{shipping_track.number}}
                                {{/if}}

                                {{#if shipping_track.url}}
                            </a>
                            {{/if}}
                        </dd>
                    </dl>
                    {{/each}}
                </section>
                {{/if}}

                {{#if order.comments}}
                <section class="account-sidebar-block">
                    <h3 class="account-heading">{{lang 'account.orders.details.comments'}}</h3>
                    <p>{{order.comments}}</p>
                </section>
                {{/if}}
            </aside>

        </div>
    </main>
</div>
{{/partial}}
{{> layout/base page_content="account"}}
